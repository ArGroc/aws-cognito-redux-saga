!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("aws-cognito-promises"),require("babel-polyfill"),require("redux-saga/effects")):"function"==typeof define&&define.amd?define(["aws-cognito-promises","babel-polyfill","redux-saga/effects"],r):"object"==typeof exports?exports["aws-cognito-redux-saga"]=r(require("aws-cognito-promises"),require("babel-polyfill"),require("redux-saga/effects")):e["aws-cognito-redux-saga"]=r(e["aws-cognito-promises"],e["babel-polyfill"],e["redux-saga/effects"])}("undefined"!=typeof self?self:this,function(e,r,t){return function(e){function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=3)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.AUTH_INIT="AUTH_INIT",r.AUTH_GET_USER="AUTH_GET_USER",r.AUTH_SET_STATE="AUTH_SET_STATE",r.AUTH_SIGN_UP="AUTH_SIGN_UP",r.AUTH_SIGN_IN="AUTH_SIGN_IN",r.AUTH_SIGN_OUT="AUTH_SIGN_OUT",r.AUTH_FORGOT_PASSWORD="AUTH_FORGOT_PASSWORD",r.AUTH_CHANGE_PASSWORD="AUTH_CHANGE_PASSWORD",r.AUTH_COMPLETE_NEW_PASSWORD="AUTH_COMPLETE_NEW_PASSWORD"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.AUTH_UNKNOWN="AUTH_UNKNOWN",r.AUTH_SUCCESS="AUTH_SUCCESS",r.AUTH_FAIL="AUTH_FAIL"},function(r,t){r.exports=e},function(e,r,t){t(4),e.exports=t(5)},function(e,t){e.exports=r},function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(r,"__esModule",{value:!0}),r.reducer=r.state=r.action=r.sagas=r.config=void 0;var a=t(6),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=t(2),u=n(s),i=t(0),c=n(i),p=t(1),T=n(p),_=t(8),d=n(_);r.config=u,r.sagas=o.default,r.action=c,r.state=T,r.reducer=d},function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function a(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I)});case 2:case"end":return e.stop()}},g,this)}function o(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=S.config.getUser(),t.next=4,(0,A.call)(S.getSession);case 4:return r=t.sent,t.next=7,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{isSignedIn:y.AUTH_SUCCESS,isConfirmed:y.AUTH_SUCCESS,info:d({username:e.username},r)})});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{isSignedIn:y.AUTH_FAIL,error:t.t0})});case 13:case"end":return t.stop()}},E,this,[[0,9]])}function s(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,A.call)(S.register,e.payload.username,e.payload.password,e.payload.customAttributes);case 3:return r.next=5,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{hasSignedUp:y.AUTH_SUCCESS})});case 5:r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{error:r.t0})});case 11:case"end":return r.stop()}},x,this,[[0,7]])}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.call)(S.signOut);case 3:return e.next=5,(0,A.put)({type:U.AUTH_SET_STATE,payload:{isSignedIn:y.AUTH_FAIL}});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,(0,A.put)({type:U.AUTH_SET_STATE,payload:{error:e.t0,isSignedIn:y.AUTH_FAIL}});case 11:case"end":return e.stop()}},m,this,[[0,7]])}function i(e){var r,t,n,a,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,r=e.payload,t=r.username,n=r.password,a=r.code,!a){u.next=5;break}return u.next=5,(0,A.call)(S.confirmation,t,a);case 5:return u.next=7,(0,A.call)(S.signIn,t,n);case 7:return o=S.config.getUser(),u.next=10,(0,A.call)(S.getSession);case 10:return s=u.sent,u.next=13,(0,A.put)({type:U.AUTH_SET_STATE,payload:{isSignedIn:y.AUTH_SUCCESS,isConfirmed:y.AUTH_SUCCESS,info:d({username:o.username},s)}});case 13:u.next=29;break;case 15:if(u.prev=15,u.t0=u.catch(0),"UserNotConfirmedException"!==u.t0.code){u.next=22;break}return u.next=20,(0,A.put)({type:U.AUTH_SET_STATE,payload:{isConfirmed:y.AUTH_FAIL,error:u.t0}});case 20:u.next=29;break;case 22:if("PasswordResetRequiredException"!==u.t0.code){u.next=27;break}return u.next=25,(0,A.put)({type:U.AUTH_SET_STATE,payload:{passwordResetRequired:y.AUTH_SUCCESS,error:u.t0}});case 25:u.next=29;break;case 27:return u.next=29,(0,A.put)({type:U.AUTH_SET_STATE,payload:{isConfirmed:y.AUTH_SUCCESS,error:u.t0}});case 29:case"end":return u.stop()}},O,this,[[0,15]])}function c(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.payload.username,t.next=4,(0,A.call)(S.forgotPassword,r);case 4:return t.next=6,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{hasSentCode:y.AUTH_SUCCESS})});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{error:t.t0,isSignedIn:y.AUTH_FAIL})});case 12:case"end":return t.stop()}},N,this,[[0,8]])}function p(e){var r,t,n,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,r=e.payload,t=r.username,n=r.code,a=r.password,o.next=4,(0,A.call)(S.changePassword,t,n,a);case 4:return o.next=6,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{hasChangedPassword:y.AUTH_SUCCESS})});case 6:o.next=12;break;case 8:return o.prev=8,o.t0=o.catch(0),o.next=12,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{error:o.t0,isSignedIn:y.AUTH_FAIL})});case 12:case"end":return o.stop()}},v,this,[[0,8]])}function T(e){var r,t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=e.payload,t=r.username,n=r.password,a.next=4,(0,A.call)(S.completeNewPassword,t,n);case 4:return a.next=6,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{hasChangedPassword:y.AUTH_SUCCESS})});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,(0,A.put)({type:U.AUTH_SET_STATE,payload:d({},I,{error:a.t0,isSignedIn:y.AUTH_FAIL})});case 12:case"end":return a.stop()}},w,this,[[0,8]])}function _(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.takeLatest)(U.AUTH_INIT,a);case 2:return e.next=4,(0,A.takeLatest)(U.AUTH_GET_USER,o);case 4:return e.next=6,(0,A.takeLatest)(U.AUTH_SIGN_UP,s);case 6:return e.next=8,(0,A.takeLatest)(U.AUTH_SIGN_IN,i);case 8:return e.next=10,(0,A.takeLatest)(U.AUTH_SIGN_OUT,u);case 10:return e.next=12,(0,A.takeLatest)(U.AUTH_FORGOT_PASSWORD,c);case 12:return e.next=14,(0,A.takeLatest)(U.AUTH_CHANGE_PASSWORD,p);case 14:return e.next=16,(0,A.takeLatest)(U.AUTH_COMPLETE_NEW_PASSWORD,T);case 16:case"end":return e.stop()}},h,this)}Object.defineProperty(r,"__esModule",{value:!0});var d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r.default=_;var f=t(2),S=n(f),A=t(7),l=t(0),U=n(l),H=t(1),y=n(H),g=regeneratorRuntime.mark(a),E=regeneratorRuntime.mark(o),x=regeneratorRuntime.mark(s),m=regeneratorRuntime.mark(u),O=regeneratorRuntime.mark(i),N=regeneratorRuntime.mark(c),v=regeneratorRuntime.mark(p),w=regeneratorRuntime.mark(T),h=regeneratorRuntime.mark(_),I={info:{},error:{},isSignedIn:y.AUTH_UNKNOWN,isConfirmed:y.AUTH_UNKNOWN,hasSignedUp:y.AUTH_UNKNOWN,hasSentCode:y.AUTH_UNKNOWN,hasChangedPassword:y.AUTH_UNKNOWN,passwordResetRequired:y.AUTH_UNKNOWN}},function(e,r){e.exports=t},function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(r,"__esModule",{value:!0}),r.reducer=r.completeNewPassword=r.changePassword=r.forgotPassword=r.signOut=r.signIn=r.signUp=r.getUser=r.init=void 0;var o,s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u=t(0),i=n(u),c=t(1),p=n(c),T=(r.init=function(){return{type:i.AUTH_INIT,payload:{}}},r.getUser=function(){return{type:i.AUTH_GET_USER}},r.signUp=function(e,r,t){return{type:i.AUTH_SIGN_UP,payload:{username:e,password:r,customAttributes:t}}},r.signIn=function(e,r,t){return{type:i.AUTH_SIGN_IN,payload:{username:e,password:r,code:t}}},r.signOut=function(){return{type:i.AUTH_SIGN_OUT}},r.forgotPassword=function(e){return{type:i.AUTH_FORGOT_PASSWORD,payload:{username:e}}},r.changePassword=function(e,r,t){return{type:i.AUTH_CHANGE_PASSWORD,payload:{username:e,code:r,password:t}}},r.completeNewPassword=function(e,r){return{type:i.AUTH_COMPLETE_NEW_PASSWORD,payload:{username:e,password:r}}},o={},a(o,i.AUTH_SET_STATE,function(e,r){return s({},e,r.payload)}),a(o,i.AUTH_INIT,function(e,r){return s({},e,r.payload)}),o),_={isSignedIn:p.AUTH_UNKNOWN};r.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,r=arguments[1],t=T[r.type];return t?t(e,r):e}}])});
//# sourceMappingURL=index.js.map